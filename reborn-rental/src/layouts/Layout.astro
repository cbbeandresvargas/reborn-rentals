---
import '../styles/global.css';
---
<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro Basics</title>
	</head>
	<body class="m-0 w-full h-full font-sans">
		<nav class="bg-[#4A4A4A] py-3 md:py-4 shadow-lg sticky top-0 z-30">
			<div class="max-w-6xl mx-auto px-4 md:px-8">
				<div class="flex justify-between items-center">
					<!-- Logo -->
					<div class="shrink-0">
						<a href="/" class="block">
							<img src="/Logo.png" alt="Reborn Rentals" class="h-8 md:h-10 w-auto object-contain" />
						</a>
					</div>
					
					<!-- Mobile Menu Button -->
					<div class="flex items-center gap-2 md:gap-4">
						<button class="bg-none border-none text-white cursor-pointer p-2 rounded-lg transition-all duration-300 ease-in-out flex items-center justify-center hover:bg-white/10 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-white/20" id="menu-btn" aria-label="Menu">
							<svg width="20" height="20" class="md:w-6 md:h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<line x1="3" y1="6" x2="21" y2="6"></line>
								<line x1="3" y1="12" x2="21" y2="12"></line>
								<line x1="3" y1="18" x2="21" y2="18"></line>
							</svg>
						</button>
						<button class="bg-none border-none text-white cursor-pointer p-2 rounded-lg transition-all duration-300 ease-in-out flex items-center justify-center hover:bg-white/10 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-white/20 relative" id="cart-btn" aria-label="Carrito">
							<svg width="20" height="20" class="md:w-6 md:h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<circle cx="9" cy="21" r="1"></circle>
								<circle cx="20" cy="21" r="1"></circle>
								<path d="m1 1 4 4 13 1 2 8H6l-2-8z"></path>
							</svg>
							<!-- Cart badge (opcional) -->
							<span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 items-center justify-center hidden" id="cart-badge">0</span>
						</button>
					</div>
				</div>
			</div>
		</nav>
		
		<!-- Menu Sidebar (Left) -->
		<div id="menu-sidebar" class="fixed top-0 left-0 h-screen w-full md:w-80 bg-[#4A4A4A] shadow-2xl -translate-x-full transition-transform duration-300 ease-in-out z-50">
			<div class="px-6 py-8 h-full flex flex-col">
				<!-- Close Button -->
				<div class="flex justify-end mb-6">
					<button class="bg-none border-none cursor-pointer p-3 rounded-lg transition-colors duration-300 ease-in-out hover:bg-white/10 text-white" id="close-menu">
						<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<line x1="18" y1="6" x2="6" y2="18"></line>
							<line x1="6" y1="6" x2="18" y2="18"></line>
						</svg>
					</button>
				</div>

				<!-- Logo Section -->
				<div class="flex justify-center mb-10">
					<img src="/Logo.png" alt="Reborn Rentals" class="h-20 w-auto object-contain" />
				</div>

				<!-- Navigation Sections -->
				<div class="flex-1 flex flex-col gap-10">
					<!-- About Us Section -->
					<div class="flex gap-6">
						<div class="w-2 h-36 bg-white rounded-sm"></div>
						<div class="flex-1">
							<h3 class="text-gray-300 font-bold text-sm uppercase mb-5 tracking-wider">About Us</h3>
							<nav class="flex flex-col gap-4">
								<a href="/FAQ" class="text-[#CE9704] no-underline text-sm hover:text-white transition-colors duration-300 py-1">FAQ</a>
								<a href="/About-Us" class="text-[#CE9704] no-underline text-sm hover:text-white transition-colors duration-300 py-1">About Us</a>
								<a href="https://grb-group.com/en/" class="text-[#CE9704] no-underline text-sm hover:text-white transition-colors duration-300 py-1">Corporate</a>
							</nav>
						</div>
					</div>

					<!-- General Section -->
					<div class="flex gap-6">
						<div class="w-2 h-36 bg-[#CE9704] rounded-sm"></div>
						<div class="flex-1">
							<h3 class="text-gray-300 font-bold text-sm uppercase mb-5 tracking-wider">General</h3>
							<nav class="flex flex-col gap-4">
								<a href="/Site-Map" class="text-[#CE9704] no-underline text-sm hover:text-white transition-colors duration-300 py-1">Site Map</a>
								<a href="/blog" class="text-[#CE9704] no-underline text-sm hover:text-white transition-colors duration-300 py-1">Blog</a>
								<a href="https://grb-group.com/en/open-opportunities/" class="text-[#CE9704] no-underline text-sm hover:text-white transition-colors duration-300 py-1">Careers</a>
							</nav>
						</div>
					</div>

					<!-- Legal Section -->
					<div class="flex gap-6">
						<div class="w-2 h-36 bg-white rounded-sm"></div>
						<div class="flex-1">
							<h3 class="text-gray-300 font-bold text-sm uppercase mb-5 tracking-wider">Legal</h3>
							<nav class="flex flex-col gap-4">
								<a href="/Terms&Conditions" class="text-[#CE9704] no-underline text-sm hover:text-white transition-colors duration-300 py-1">Terms & Conditions</a>
								<a href="/Privacy-Policy" class="text-[#CE9704] no-underline text-sm hover:text-white transition-colors duration-300 py-1">Privacy Policy</a>
								<a href="/Fees&Surcharges" class="text-[#CE9704] no-underline text-sm hover:text-white transition-colors duration-300 py-1">Fees & Surcharges</a>
							</nav>
						</div>
					</div>
				</div>

				<!-- Copyright -->
				<div class="mt-auto pt-6">
					<p class="text-white text-xs text-center leading-relaxed">© 2025 Reborn Rentals, All Rights Reserved.</p>
				</div>
			</div>
		</div>

		<!-- Cart Sidebar (Right) -->
		<div id="cart-sidebar" class="fixed top-0 right-0 h-screen text-white w-full md:w-80 bg-[#2F2F2F] shadow-2xl translate-x-full transition-transform duration-300 ease-in-out z-50">
			<div class="p-8 h-full flex flex-col">
				<div class="flex justify-between items-center mb-8 pb-4 border-b border-gray-300">
					<h3 class="m-0 text-white text-2xl">Carrito</h3>
					<button class="bg-none border-none cursor-pointer p-2 rounded transition-colors duration-300 ease-in-out hover:bg-gray-200" id="close-cart">
						<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<line x1="18" y1="6" x2="6" y2="18"></line>
							<line x1="6" y1="6" x2="18" y2="18"></line>
						</svg>
					</button>
				</div>
				<div class="flex-1 flex items-center justify-center">
					<p class="text-white italic text-center">Tu carrito está vacío</p>
				</div>
			</div>
		</div>

		<!-- Overlay -->
		<div id="sidebar-overlay" class="fixed top-0 left-0 w-full h-full bg-black/50 z-40 opacity-0 invisible transition-all duration-300 ease-in-out"></div>

		<main class="min-h-[calc(100vh-64px)] md:min-h-[calc(100vh-80px)]">
		<slot />
		</main>
	</body>
</html>


<script>
	// Sidebar functionality
	document.addEventListener('DOMContentLoaded', function() {
		const menuBtn = document.getElementById('menu-btn');
		const cartBtn = document.getElementById('cart-btn');
		const menuSidebar = document.getElementById('menu-sidebar');
		const cartSidebar = document.getElementById('cart-sidebar');
		const overlay = document.getElementById('sidebar-overlay');
		const closeMenuBtn = document.getElementById('close-menu');
		const closeCartBtn = document.getElementById('close-cart');

		// Check if all elements exist before adding event listeners
		if (!menuBtn || !cartBtn || !menuSidebar || !cartSidebar || !overlay || !closeMenuBtn || !closeCartBtn) {
			console.error('Some sidebar elements are missing');
			return;
		}

		// Open menu sidebar
		menuBtn.addEventListener('click', function() {
			menuSidebar.classList.remove('-translate-x-full');
			menuSidebar.classList.add('translate-x-0');
			overlay.classList.remove('opacity-0', 'invisible');
			overlay.classList.add('opacity-100', 'visible');
			document.body.style.overflow = 'hidden';
		});

		// Open cart sidebar (without overlay)
		cartBtn.addEventListener('click', function() {
			cartSidebar.classList.remove('translate-x-full');
			cartSidebar.classList.add('translate-x-0');
			document.body.style.overflow = 'hidden';
		});

		// Close menu sidebar
		closeMenuBtn.addEventListener('click', function() {
			menuSidebar.classList.remove('translate-x-0');
			menuSidebar.classList.add('-translate-x-full');
			overlay.classList.remove('opacity-100', 'visible');
			overlay.classList.add('opacity-0', 'invisible');
			document.body.style.overflow = '';
		});

		// Close cart sidebar (without overlay)
		closeCartBtn.addEventListener('click', function() {
			cartSidebar.classList.remove('translate-x-0');
			cartSidebar.classList.add('translate-x-full');
			document.body.style.overflow = '';
		});

		// Close menu sidebar when clicking overlay
		overlay.addEventListener('click', function() {
			menuSidebar.classList.remove('translate-x-0');
			menuSidebar.classList.add('-translate-x-full');
			overlay.classList.remove('opacity-100', 'visible');
			overlay.classList.add('opacity-0', 'invisible');
			document.body.style.overflow = '';
		});

		// Close menu sidebar with Escape key
		document.addEventListener('keydown', function(e) {
			if (e.key === 'Escape') {
				menuSidebar.classList.remove('translate-x-0');
				menuSidebar.classList.add('-translate-x-full');
				overlay.classList.remove('opacity-100', 'visible');
				overlay.classList.add('opacity-0', 'invisible');
				document.body.style.overflow = '';
			}
		});
	});
</script>

<!-- Custom Toast Container -->
<div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"></div>
